# Java Web项目初步设计

##  一、项目概述

项目名称：学生成绩管理系统

项目架构：B/S（浏览器/服务器架构）

客户端程序：各种网页浏览器（Browser），如：IE、Firefox等

Web服务器：Tomcat

数据库服务器：MySQL

编程语言：java/HTML/XML

实现技术：Servlet/JDBC/JSP

## 二、代码分层设计

Web项目的应用程序代码写好后，必须要部署到Web服务器上运行，实际是被Web服务器调用执行。

Web服务器是别人预先写好的服务程序，能够独立运行。它的工作主要是三件事：一是监听客户端浏览器的访问请求，二是管理我们部署上去的应用程序，三是根据需要选择调用我们的应用代码。

项目开发人员编写的Web应用程序，最终一定是要融入Web服务器程序之中，两者合二为一，才能正常地为客户端浏览器提供访问服务。所以，常常又将Web服务器称为Web容器，可以容纳我们部署的Web应用程序代码。

Servlet就是一个典型的Web服务器容器，他可以接收和管理多个HttpServlet继承子类对象，并在合适的时候，调用这些子类对象。并在需要的时候调用我们写的代码。服务器端接收到浏览器提交的请求和数据后，需要做一系列的处理工作。首先，是解析浏览器提交的HTTP参数，每个参数都包括参数名称和参数值两部分。其次，是根据请求的业务调用对应的逻辑服务方法，并将参数传递给服务方法；

按照MVC（Model View Controller）分层思想，整个应用程序的代码分为如下几个层次：

### 1、控制层（Controller）

控制层是Web应用服务器端最核心的代码层。它们首先接收到客户端浏览器的访问请求，也最新收到浏览器提交的参数和上传的文件。本层代码的主要任务是解析客户端上传的HTTP参数，保存上传的文件，并根据客户端的请求目标，调用业务模型层的逻辑服务方法完成业务逻辑处理，并根据处理结果调用不同的视图文件，响应客户端的请求。

控制层向业务逻辑服务层传递数据，使用HttpData、HttpDataRecord或HttpDataSet对象。业务逻辑服务层向控制层返回处理结果数据，则可以使用String、Json、List<?>或Map<K,V>集合，以及用户自定义实体类等。

本项目的控制层使用Servlet类来实现，针对每一个客户请求编写一个Servlet处理类。每个Servlet类添加一个 @WebServlet 注解来匹配客户的请求地址。

### 2、业务模型层（Model）

负责实现项目的业务逻辑，按照代码功能又细分为：业务逻辑服务层（Services）、数据访问对象层（DAO）、数据实体层（Entities）。

#### 1）逻辑服务层（Services）

一个逻辑服务类对应一类业务，每个方法处理一个业务。如果涉及到数据库访问，则调用数据库访问层的相关方法来实现。若要传递数据，将使用HttpData、HttpDataRecord或HttpDataSet对象。

#### 2）数据访问对象层（DAO）

DAO是“Data Access Object”三个英文单词首字母的缩写，也就是数据访问对象的意思。本层负责实现具体的数据库访问，包括数据的增加、删除、修改和查询。设计上采用每一个类对应一张数据表，每一个方法对应一种操作的思路。

#### 3）数据实体层（Entities）

可以为每一个数据表设计一个实体类，也可以为每一次连接查询结果设计一个实体类。主要用于在不同层次之间传递数据，本项目主要用于从DAO向业务逻辑服务层，再向控制层返回查询结果数据。

当然，用户也可以选用HttpDataSet、HttpDataRecord和HttpData回传数据。

 

### 2、视图层（View）

使用JSP动态页面实现。根据业务需要，设计若干个jsp页面文件。

 

## 三、业务逻辑设计

1、系统首页

系统首页是游客可以访问的页面，主要提供用户注册和登录命令按钮。可以在首页中显示介绍系统的文本、图片或视频动画等。

2、用户注册

《学生成绩管理系统》只能由合法的注册用户登录和使用。要成为系统的合法注册用户，就必须先行注册。

游客进入首页之后，点击“注册”按钮可以进入注册页面，填写自己拟定的注册名称和登录密码，并提交给服务器端。服务器端收到注册名称和密码之后，检查是否与用户表中已经注册的用户名称重复。如果重复就拒绝，并给出消息。不重复就接收并给出恭喜的消息。

3、用户登录

游客进入首页之后，点击“登录”按钮可以进入用户登录页面，输入自己的注册名称和登录密码之后，提交给服务器后台，后台Servlet接收到登录请求后，按照登录名称和密码到数据库的用户表中查找满足条件的记录，如果找到了匹配用户名称和密码的记录，表明是合法用户，跳转到用户工作主页。否则，返回一个用户名称不存在或者密码错误的消息页面。

4、录入学生信息

 

5、录入课程信息

 

6、录入学生成绩

 

7、查询学生成绩

 

8、修改成绩

 

9、修改学生信息

 

 

10、修改课程信息

 

## 四、数据库设计

### 1、数据库名称

系统的数据库名称为：dbStudentScore

### 2、用户信息表（tbUser）

| 序号 | 字段名称 | 说明文本 | 数据类型 | 长度 | 约束             |
| ---- | -------- | -------- | -------- | ---- | ---------------- |
| 1    | uid      | 用户账号 | varchar  | 20   | 主键，不能为null |
| 2    | pwd      | 登录密码 | varchar  | 64   | 不能为null       |
| 3    | name     | 真实姓名 | varchar  | 50   | 可以为null       |
| 4    | sex      | 性别     | varchar  | 10   | 默认：女         |
| 5    | tel      | 联系电话 | varchar  | 50   | 可以为null       |

 

### 3、学生信息表（tbStudent）

| 序号 | 字段名称 | 说明文本 | 数据类型 | 长度 | 约束             |
| ---- | -------- | -------- | -------- | ---- | ---------------- |
| 1    | stuId    | 学号     | varchar  | 20   | 主键，不能为null |
| 2    | pwd      | 登录密码 | varchar  | 64   | 不能为null       |
| 3    | name     | 真实姓名 | varchar  | 50   | 可以为null       |
| 4    | sex      | 性别     | varchar  | 10   | 默认：女         |
| 5    | classId  | 班级编号 | varchar  | 20   | 可以为null       |

 

 

### 4、课程信息表（tbCourse）

| 序号 | 字段名称 | 说明文本 | 数据类型 | 长度 | 约束             |
| ---- | -------- | -------- | -------- | ---- | ---------------- |
| 1    | cid      | 课程编号 | varchar  | 20   | 主键，不能为null |
| 2    | cname    | 课程名称 | varchar  | 50   | 不能为null       |
| 3    | content  | 课程说明 | varchar  | 200  | 可以为null       |

 

 

### 5、学生成绩表（tbStudentScore）

| 序号 | 字段名称 | 说明文本 | 数据类型 | 长度 | 约束                      |
| ---- | -------- | -------- | -------- | ---- | ------------------------- |
| 1    | id       | 流水号   | int      |      | 主键，不能为null          |
| 2    | stuId    | 学号     | varchar  | 20   | 外键：引用tbStudent.stuid |
| 3    | cid      | 课程编号 | varchar  | 50   | 外键：引用tbCource.cid    |
| 4    | score    | 成绩得分 | int      |      |                           |
| 5    | examDate | 考试日期 | Date     |      | 可以为null                |

 